<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/images/favicon-32x32.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <title>
      Frontend Mentor | Newsletter sign-up form with success message
    </title>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="form-wrapper">
        <h1 class="form-title">Stay updated!</h1>
        <div class="form-mid-section">
          <p>Join 60,000+ product managers receiving monthly updates on:</p>
          <ul class="list | mt-5">
            <li>
              <img src="/assets/images/icon-list.svg" alt="" srcset="" />
              <span> Product discovery and building what matters</span>
            </li>
            <li>
              <img src="/assets/images/icon-list.svg" alt="" srcset="" /><span>
                Measuring to ensure updates are a success</span
              >
            </li>
            <li>
              <img src="/assets/images/icon-list.svg" alt="" />
              <span> And much more!</span>
            </li>
          </ul>
        </div>
        <form class="form | margin-block--start-2" action="">
          <div class="sub_title">
            <h3 class="mb-2">Email address</h3>
            <span id="label" class="invali">Valid email required</span>
          </div>

          <div class="form-inner-wrapper">
            <input id="01_email" type="email" value="email@company.com" />
            <button class="button">Subscribe to monthly newsletter</button>
          </div>
        </form>
      </div>
      <div class="image-wrapper">
        <img
          class="illustration"
          src="/assets/images/illustration-sign-up-desktop.svg"
          alt=""
          srcset=""
        />
        <img
          class="illustration-mobile"
          src="/assets/images/illustration-sign-up-mobile.svg"
          alt=""
          srcset=""
        />
      </div>
    </div>

    <div style="display: none" class="success">
      <div class="success-wrapper">
        <img
          class="icon-success"
          src="/assets/images/icon-success.svg"
          alt=""
        />
        <h1 class="success-title">Thanks for subscribing!</h1>
        <p class="success-p">
          A confirmation email has been sent to
          <span class="success_span">osman@osmanoglu.com</span> Please open it
          and click the button inside to confirm your subscription.
        </p>
        <button class="button">Dissmiss message</button>
      </div>
    </div>

    <script>
      const email = document.getElementById("01_email");
      const button = document.querySelector(".button");
      const label = document.getElementById("label");
      const container = document.querySelector(".container");

      button.addEventListener("click", (e) => {
        e.preventDefault();

        if (label.classList.contains("invalid")) {
          label.classList.remove("invalid");
          email.classList.remove("silly_boy");
        }

        const target = "@";
        let timer = 0;
        const text = email.value;
        let arry = text.split("");

        for (let i = 0; i < text.length; i++) {
          if (arry[i] == "@") {
            timer++;
          }
        }

        if (timer === 0) {
          label.classList.add("invalid");
          email.classList.add("silly_boy");
        } else {
          // terminate container and launch success
          container.style.display = "none";
        }
      });

      // When button is clicked if there is no @ sign in text in input
      // add silly class on input

      // for invalid label
    </script>
  </body>
</html>
